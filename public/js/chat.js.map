{"version":3,"sources":["chat.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"chat.js","sourcesContent":["/**\n * チャット登録コントローラ呼び出し\n * @param  {[type]} category [description]\n * @return {[type]}          [description]\n */\nfunction store(button){\n  // alert(category);\n  $.post(\n    \"store-chat\",\n    {\n      '_token': $('meta[name=csrf-token]').attr('content'),\n      'text': document.getElementById(\"chat-text\").value,\n      'id': groupId,\n      'category': 0,\n    },\n    function (data) {\n    });\n    document.getElementById(\"chat-text\").value = '';\n}\n\n$(function(){\n  /**\n   * 表示間隔秒 1000 = 1秒\n   * @type {Number}\n   */\n  var intervalTime = 1000;\n  /**\n   * チャット取得し表示\n   * @return {[type]} [description]\n   */\n  function show(){\n    $.post(\n      \"show-chat\",\n      {\n        '_token': $('meta[name=csrf-token]').attr('content'),\n        'id': groupId,\n        'category': 0,\n      },\n      function (data) {\n        var chatLog =\"\";\n        for (var i = 0; i < data.length; i++) {\n          if (i == 0) {\n            chatLog += \"<div class='text-center'>\"+data[i + 1][\"date\"]+\"</div>\";\n          }\n          chatLog += data[i][\"time\"]+\"に\"+data[i][\"name\"]+\"が\"+data[i][\"text\"]+\"って言ってる<br>\";\n          if (i != data.length - 1) {\n            if(data[i][\"date\"] != data[i + 1][\"date\"]){\n              chatLog += \"<div class='text-center'>\"+data[i + 1][\"date\"]+\"</div>\";\n            }\n          }\n        }\n      $('#show-chat').html(chatLog);\n      });\n  }\n\n  /**\n   * 指定行ごとにshow()呼び出し\n   * @param {[type]} function( [description]\n   */\n  setInterval(function(){\n  show();\n},intervalTime);\n\n});\n"],"sourceRoot":"/source/"}