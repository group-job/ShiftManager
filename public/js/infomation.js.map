{"version":3,"sources":["infomation.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"infomation.js","sourcesContent":["/**\n * チャット登録コントローラ呼び出し\n * @param  {[type]} category [description]\n * @return {[type]}          [description]\n */\nfunction store(button){\n  $.post(\n    \"store-chat\",\n    {\n      '_token': $('meta[name=csrf-token]').attr('content'),\n      'text': document.getElementById(\"chat-text\").value,\n      'id': groupId,\n      'category': 1,\n    },\n    function (data) {\n    });\n    document.getElementById(\"chat-text\").value = '';\n    show();\n}\n\nfunction check(button){\n  alert(button.id);\n  $.post(\n    \"check-infomation\",\n    {\n      '_token': $('meta[name=csrf-token]').attr('content'),\n      'chatId': button.id,\n    },\n    function (data) {\n    });\n    show();\n}\n\n$(function(){\n  /**\n   * 表示間隔秒 1000 = 1秒\n   * @type {Number}\n   */\n  var intervalTime = 10000;\n  /**\n   * チャット取得し表示\n   * @return {[type]} [description]\n   */\n  function show(){\n    $.post(\n      \"show-chat\",\n      {\n        '_token': $('meta[name=csrf-token]').attr('content'),\n        'id': groupId,\n        'category': 1,\n      },\n      function (data) {\n        if(data != null){\n        var chatLog =\"\";\n        for (var i = 0; i < data.length; i++) {\n          if (i == 0) {\n            chatLog += \"<div class='text-center'>\"+data[i + 1][\"date\"]+\"</div>\";\n          }\n          chatLog += data[i][\"time\"]+\"に\"+data[i][\"name\"]+\"が\"+data[i][\"text\"]+\"って言ってる\";\n          // TODO: 連絡ボード用のボタンを追加　idを指定し、同じ関数からnameの値を参照できる関数を探す。\n          chatLog += \"<input type='button' class='btn btn-primary' value='確認' id =\"+ data[i][\"id\"] +\" onclick = 'check(this)'>\";\n          if (i != data.length - 1) {\n            if(data[i][\"date\"] != data[i + 1][\"date\"]){\n              chatLog += \"<div class='text-center'>\"+data[i + 1][\"date\"]+\"</div>\";\n            }\n          }\n        }\n        }\n      $('#show-chat').html(chatLog);\n      });\n\n  }\n\n  /**\n   * 指定行ごとにshow()呼び出し\n   * @param {[type]} function( [description]\n   */\n  setInterval(function(){\n  show();\n},intervalTime);\n  show();\n\n});\n"],"sourceRoot":"/source/"}